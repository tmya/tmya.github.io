<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>tmya note - blog</title><link href="https://tmya.github.io/" rel="alternate"></link><link href="https://tmya.github.io/feeds/blog.atom.xml" rel="self"></link><id>https://tmya.github.io/</id><updated>2021-09-24T00:00:00+09:00</updated><entry><title>How to install pyenv, pipenv</title><link href="https://tmya.github.io/how-to-install-pyenv-pipenv.html" rel="alternate"></link><published>2021-09-24T00:00:00+09:00</published><updated>2021-09-24T00:00:00+09:00</updated><author><name>Akio Tomita</name></author><id>tag:tmya.github.io,2021-09-24:/how-to-install-pyenv-pipenv.html</id><summary type="html">&lt;p&gt;Why using pyenv and pipenv for Python?&lt;/p&gt;
&lt;p&gt;Python has many versions of many environments. It has need one of them but too much hassle to choosing appropriate version of Python and modules. I want to operation easely.&lt;/p&gt;
&lt;p&gt;pyenv : Easy to switch between some versions of Python.&lt;/p&gt;
&lt;p&gt;pipenv : It can install â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Why using pyenv and pipenv for Python?&lt;/p&gt;
&lt;p&gt;Python has many versions of many environments. It has need one of them but too much hassle to choosing appropriate version of Python and modules. I want to operation easely.&lt;/p&gt;
&lt;p&gt;pyenv : Easy to switch between some versions of Python.&lt;/p&gt;
&lt;p&gt;pipenv : It can install modules separately of version.(use pyenv's version switch module inside.)&lt;/p&gt;
&lt;h1&gt;Memo&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;I using this settings on Raspberry Pi 4(64bit Kernel) and MacOS Catalina&lt;/li&gt;
&lt;li&gt;Python 3(.8)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Contents&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Install require components&lt;/li&gt;
&lt;li&gt;Install pyenv&lt;/li&gt;
&lt;li&gt;Install pipenv&lt;/li&gt;
&lt;li&gt;How to use.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Install require components&lt;/h2&gt;
&lt;p&gt;(Raspberry Pi) &amp;gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install -y build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python-openssl git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&amp;lt; (Raspberry Pi)&lt;/p&gt;
&lt;p&gt;(MacOS) &amp;gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew install readline xz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&amp;lt; (MacOS)&lt;/p&gt;
&lt;h2&gt;Install pyenv&lt;/h2&gt;
&lt;p&gt;(Raspberry Pi)&lt;/p&gt;
&lt;p&gt;First, install pyenv from CUI command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ curl https://pyenv.run &lt;span class="p"&gt;|&lt;/span&gt; bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;When install finished, You'll see warnings like below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;WARNING: seems you still have not added &lt;span class="s1"&gt;&amp;#39;pyenv&amp;#39;&lt;/span&gt; to the load path.

&lt;span class="c1"&gt;# Load pyenv automatically by adding&lt;/span&gt;
&lt;span class="c1"&gt;# the following to ~/.bashrc:&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/tmya/.pyenv/bin:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv virtualenv-init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Edit ~/.bashrc file and add three rows.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ micro ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/tmya/.pyenv/bin:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv virtualenv-init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Reload .bashrc file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&amp;lt; (Raspberry Pi)&lt;/p&gt;
&lt;p&gt;(MacOS)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ brew install pyenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&amp;lt; (MacOS)&lt;/p&gt;
&lt;h2&gt;Install pipenv.&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python -m pip install pipenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python3 -m pip install pipenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;How to use&lt;/h2&gt;
&lt;h3&gt;Install Python 3.8.2 or what you need.&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ pyenv install &lt;span class="m"&gt;3&lt;/span&gt;.8.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Create a local environment.&lt;/h2&gt;
&lt;p&gt;First check the default Python version&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python --version
Python &lt;span class="m"&gt;3&lt;/span&gt;.7.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ mkdir mypy
$ &lt;span class="nb"&gt;cd&lt;/span&gt; mypy
$ pipenv install --python &lt;span class="m"&gt;3&lt;/span&gt;.8.2

Creating a virtualenv &lt;span class="k"&gt;for&lt;/span&gt; this projectâ€¦
Pipfile: /home/tmya/mypy/Pipfile
Using /home/tmya/.pyenv/versions/3.8.2/bin/python3.8 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.8.2&lt;span class="o"&gt;)&lt;/span&gt; to create virtualenvâ€¦
â ¦ Creating virtual environment...created virtual environment CPython3.8.2.final.0-32 in 1015ms
  creator CPython3Posix&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;dest&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/tmya/.local/share/virtualenvs/mypy-udRPw8Ka, &lt;span class="nv"&gt;clear&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;False, &lt;span class="nv"&gt;global&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;False&lt;span class="o"&gt;)&lt;/span&gt;
  seeder FromAppData&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;download&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;False, &lt;span class="nv"&gt;pip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;latest, &lt;span class="nv"&gt;setuptools&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;latest, &lt;span class="nv"&gt;wheel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;latest, &lt;span class="nv"&gt;via&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;copy, &lt;span class="nv"&gt;app_data_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/tmya/.local/share/virtualenv/seed-app-data/v1.0.1&lt;span class="o"&gt;)&lt;/span&gt;
  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator

âœ” Successfully created virtual environment! 
Virtualenv location: /home/tmya/.local/share/virtualenvs/mypy-udRPw8Ka
Creating a Pipfile &lt;span class="k"&gt;for&lt;/span&gt; this projectâ€¦
Pipfile.lock not found, creatingâ€¦
Locking &lt;span class="o"&gt;[&lt;/span&gt;dev-packages&lt;span class="o"&gt;]&lt;/span&gt; dependenciesâ€¦
Locking &lt;span class="o"&gt;[&lt;/span&gt;packages&lt;span class="o"&gt;]&lt;/span&gt; dependenciesâ€¦
Updated Pipfile.lock &lt;span class="o"&gt;(&lt;/span&gt;db4242&lt;span class="o"&gt;)&lt;/span&gt;!
Installing dependencies from Pipfile.lock &lt;span class="o"&gt;(&lt;/span&gt;db4242&lt;span class="o"&gt;)&lt;/span&gt;â€¦
  ğŸ   â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰ &lt;span class="m"&gt;0&lt;/span&gt;/0 â€” &lt;span class="m"&gt;00&lt;/span&gt;:00:00
To activate this project&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;s virtualenv, run pipenv shell.
Alternatively, run a &lt;span class="nb"&gt;command&lt;/span&gt; inside the virtualenv with pipenv run.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can see your specified version of Python.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ pipenv shell
~~~
$ python --version
Python &lt;span class="m"&gt;3&lt;/span&gt;.8.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you want to exit local environment, type 'exit' command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;exit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Install library&lt;/h3&gt;
&lt;p&gt;You can not use 'pip' command. You should use 'pipenv' command instead.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ pipenv install beautifulsoup4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Optional settings&lt;/h3&gt;
&lt;p&gt;How to create a virtual environment in the project directory.
This setting is recommended for git and other version-control software.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ micro ~/.bashrc

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PIPENV_VENV_IN_PROJECT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;

$ &lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="blog"></category></entry><entry><title>How to install SoftEther on CentOS to enable RADIUS authentication in Japan.</title><link href="https://tmya.github.io/how-to-install-softether-on-centos-to-enable-radius-authentication-in-japan.html" rel="alternate"></link><published>2020-04-12T00:00:00+09:00</published><updated>2020-04-12T00:00:00+09:00</updated><author><name>Akio Tomita</name></author><id>tag:tmya.github.io,2020-04-12:/how-to-install-softether-on-centos-to-enable-radius-authentication-in-japan.html</id><summary type="html">&lt;h3&gt;Memo&lt;/h3&gt;
&lt;p&gt;As you know disabled Certificate authentication or RADIUS authentication and other(ex. Deep-inspect packet logging,,,) in Japan due to SoftEther's contractual issue.
If you need these features, have to add code and compile from source.&lt;/p&gt;
&lt;h2&gt;Download source code from SoftEther website.&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.softether-download.com/ja.aspx"&gt;SoftEther Download page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You should choice "Source Code â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Memo&lt;/h3&gt;
&lt;p&gt;As you know disabled Certificate authentication or RADIUS authentication and other(ex. Deep-inspect packet logging,,,) in Japan due to SoftEther's contractual issue.
If you need these features, have to add code and compile from source.&lt;/p&gt;
&lt;h2&gt;Download source code from SoftEther website.&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.softether-download.com/ja.aspx"&gt;SoftEther Download page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You should choice "Source Code of SoftEther VPN" from "Choose a component" listbox.
It can choose tar.gz or zip if you like and download then untar it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ wget https://jp.softether-download.com/files/softether/v4.34-9745-beta-2020.04.05-tree/Source_Code/softether-src-v4.34-9745-beta.tar.gz
$ tar xvf ./softether-src-v4.34-9745-beta.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Edit source code.&lt;/h2&gt;
&lt;p&gt;Edit Server.c file at "src/Cedar/". I like "micro" editor. Of cource, any other editor is fine.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://micro-editor.github.io/"&gt;micro&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ micro v4.34-9745/src/Cedar/Server.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Search the "SiIsEnterpriseFunctionsRestrictedOnOpenSource" function and edit inner code.&lt;/p&gt;
&lt;p&gt;The're many ways to get the remove restrictions but one purpose and simple. It's rewrite the function return false any time.&lt;/p&gt;
&lt;p&gt;Before:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;SiIsEnterpriseFunctionsRestrictedOnOpenSource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CEDAR&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;// Validate arguments&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;SiGetCurrentRegion&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;StrCmpi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;JP&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;StrCmpi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I'll show you my examples.&lt;/p&gt;
&lt;p&gt;After:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;SiIsEnterpriseFunctionsRestrictedOnOpenSource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CEDAR&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;// Validate arguments&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;SiGetCurrentRegion&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;StrCmpi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;JP&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;StrCmpi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CN&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ret = true; to ret = false;&lt;/p&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;p&gt;ret = true; to //ret = true; (comment out)&lt;/p&gt;
&lt;h2&gt;Configure and Compile&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; v4.34-9745
$ ./configure
$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Wait few minutes.&lt;/p&gt;
&lt;p&gt;When compiled, You'll find compiled binary in bin directory.&lt;/p&gt;</content><category term="blog"></category></entry><entry><title>MSFS2020ã§ã®SimConnectã®ä½¿ã„æ–¹ C#ç·¨</title><link href="https://tmya.github.io/how-to-use-simconnect-msfs2020-csharp.html" rel="alternate"></link><published>2019-12-03T00:00:00+09:00</published><updated>2019-12-03T00:00:00+09:00</updated><author><name>Akio Tomita</name></author><id>tag:tmya.github.io,2019-12-03:/how-to-use-simconnect-msfs2020-csharp.html</id><summary type="html">&lt;h1&gt;Microsoft Flight Simulator(2020)ã§SimConnectã‚’ä½¿ã†ãŸã‚ã®ãƒ¡ãƒ¢ C#ç·¨&lt;/h1&gt;
&lt;p&gt;ã»ã‚“ã®å°‘ã—ã§ã™ãŒã‚ã‹ã£ã¦ã„ã‚‹æƒ…å ±ã«ã¤ã„ã¦è¨˜è¼‰ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¿…è¦ãªã‚‚ã®&lt;/strong&gt; : MSFS2020æœ¬ä½“ã€Visual Studio Communityä»¥ä¸Šã§.NETé–‹ç™ºã‚’æœ‰åŠ¹&lt;/p&gt;
&lt;h2&gt;SimConnectã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h2&gt;
&lt;p&gt;ã¾ãšMSFS2020ã®ã‚²ãƒ¼ãƒ ã‚’èµ·å‹•ã—ã¦ã€ Help -&amp;gt; Downloads -&amp;gt; SDK â€¦&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Microsoft Flight Simulator(2020)ã§SimConnectã‚’ä½¿ã†ãŸã‚ã®ãƒ¡ãƒ¢ C#ç·¨&lt;/h1&gt;
&lt;p&gt;ã»ã‚“ã®å°‘ã—ã§ã™ãŒã‚ã‹ã£ã¦ã„ã‚‹æƒ…å ±ã«ã¤ã„ã¦è¨˜è¼‰ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¿…è¦ãªã‚‚ã®&lt;/strong&gt; : MSFS2020æœ¬ä½“ã€Visual Studio Communityä»¥ä¸Šã§.NETé–‹ç™ºã‚’æœ‰åŠ¹&lt;/p&gt;
&lt;h2&gt;SimConnectã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h2&gt;
&lt;p&gt;ã¾ãšMSFS2020ã®ã‚²ãƒ¼ãƒ ã‚’èµ·å‹•ã—ã¦ã€ Help -&amp;gt; Downloads -&amp;gt; SDK Installerã‚’é¸ã³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚
ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;SDKã®ä¸­ã«ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã€&lt;code&gt;SimvarWatcher&lt;/code&gt;ã¨ã„ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ãã¨MSFSã‹ã‚‰å¤‰æ•°ã‚’å–å¾—ã—ãŸã‚ŠEVENTã‚’set/getã™ã‚‹äº‹ãŒã§ãã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é–²è¦§ã§ãã¾ã™ã€‚ã“ã®å†…å®¹ã§ç†è§£ã§ãã‚‹ã®ã§ã‚ã‚Œã°ã€ã“ã®è¨˜äº‹ã‚’èª­ã‚€å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;h2&gt;SimConnectã‚’ä½¿ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®æ¦‚è¦&lt;/h2&gt;
&lt;p&gt;è©³ã—ãã¯ã‚ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€SimConnectã¯FSX(Microsoft Flight Simulator X : å¤ã„ã‚„ã¤)æ™‚ä»£ã‹ã‚‰ã‚ã‚‹ã‚ˆã†ã§ã€Prepar3Dã¨ã„ã†ã®ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚ãã®ãŸã‚Webä¸Šã«ã‚ã‚‹SimConnectã‚’ä½¿ã†æ–¹æ³•ã¯MSFS2020ä»¥å¤–ã®æƒ…å ±ã‚‚ã”ã¡ã‚ƒæ··ãœã«ãªã£ã¦ã„ã‚‹ã®ã§è‡ªåˆ†ãŒå‚è€ƒã«ã™ã‚‹è³‡æ–™ã«æ°—ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚&lt;/p&gt;
&lt;h3&gt;ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨è¨­å®š&lt;/h3&gt;
&lt;p&gt;ã¾ãšã€ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨è¨­å®šã«ã¯å¤§ããäºŒç¨®é¡ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;ã©ã¡ã‚‰ã‚‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ç”¨ã„ã¾ã™ã€‚æ³¨æ„ç‚¹ã¨ã—ã¦ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ãŒç›´æ¥å‘¼ã°ã‚Œã‚‹ã‚ã‘ã§ã¯ãªãã€&lt;a href="https://learn.microsoft.com/ja-jp/windows/win32/winmsg/windowing"&gt;ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£&lt;/a&gt;ã«ã‚ˆã£ã¦ä½•ã‹ãŒèµ·ããŸã“ã¨ã‚’çŸ¥ã‚‰ã›ã¦ãã‚Œã‚‹ã®ã§ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã£ãŸã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å—ä¿¡ã™ã‚‹å‡¦ç†ã‚’è¡Œã‚ãªã„ã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãŒå‘¼ã°ã‚Œã¾ã›ã‚“ã€‚å¾Œè¿°ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;h4&gt;EVENT IDsã¨Variablesã«ã¤ã„ã¦&lt;/h4&gt;
&lt;h5&gt;EVENT IDs&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;ãƒ•ãƒ©ãƒƒãƒ—ã‚’å‹•ã‹ã™ or å‹•ã‹ã—ãŸ&lt;/code&gt;ã€&lt;code&gt;ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚®ã‚¢ã‚’å‹•ã‹ã™ or å‹•ã‹ã—ãŸ&lt;/code&gt;ã€&lt;code&gt;ã‚ªãƒ¼ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆã‚’ON/OFF&lt;/code&gt;ã®æƒ…å ±&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.flightsimulator.com/html/Programming_Tools/Event_IDs/Event_IDs.htm"&gt;EVENT IDs : SDKã®æƒ…å ±&lt;/a&gt;&lt;/p&gt;
&lt;h5&gt;Variables&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;é£›è¡Œæ©Ÿã®é«˜åº¦&lt;/code&gt;ã‚„&lt;code&gt;ãƒ•ãƒ©ãƒƒãƒ—ã®ä½ç½®&lt;/code&gt;ã€&lt;code&gt;ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚®ã‚¢ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ç­‰&lt;/code&gt;ã€&lt;code&gt;ã‚ªãƒ¼ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆã®ON/OFF&lt;/code&gt;ã®æƒ…å ±&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.flightsimulator.com/html/Programming_Tools/SimVars/Simulation_Variables.htm"&gt;Simulation variables : SDKã®æƒ…å ±&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;EVENT IDsã¨Variablesã®ä½¿ã„åˆ†ã‘&lt;/h3&gt;
&lt;p&gt;äºŒã¤ã¨ã‚‚ä¼¼ãŸã‚ˆã†ãªã“ã¨ãŒã§ãè©³ã—ãèª¿ã¹ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€ãã‚Œãã‚Œç‰¹æ€§ãŒé•ã†ã®ã§å¿…è¦ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;h4&gt;EVENT IDs&lt;/h4&gt;
&lt;p&gt;EVENTã¯ä½•ã‹ãŒèµ·ã“ã£ãŸã“ã¨ãƒ»èµ·ã“ã™ã“ã¨ã‚’å–å¾—ã—ãŸã‚Šè¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚³ãƒƒã‚¯ãƒ”ãƒƒãƒˆè¦–ç‚¹ã§ã‚ªãƒ¼ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆã®ã‚¹ã‚¤ãƒƒãƒã‚’æŠ¼ã™ãŸã³ã«ã€&lt;code&gt;AP_MASTER&lt;/code&gt;ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ã¾ã™ã€‚ãã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã®ä¸­ã«&lt;code&gt;ON&lt;/code&gt;ã§ã‚ã‚Œã°&lt;code&gt;1&lt;/code&gt;ã€&lt;code&gt;OFF&lt;/code&gt;ã§ã‚ã‚Œã°&lt;code&gt;0&lt;/code&gt;ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€&lt;code&gt;AP_MASTER&lt;/code&gt;ã‚¤ãƒ™ãƒ³ãƒˆã«&lt;code&gt;1&lt;/code&gt;ã‚’è¨­å®šã™ã‚‹ã¨ã€ã‚ªãƒ¼ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãŒ&lt;code&gt;ON&lt;/code&gt;ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ç‚¹ã¨ã—ã¦ã€EVENTã§&lt;code&gt;AP_MASTER&lt;/code&gt;ã«&lt;code&gt;1&lt;/code&gt;ã‚’è¨­å®šã™ã‚‹ã¨ã€ä½•æ•…ã‹&lt;code&gt;AP_MASTER&lt;/code&gt;ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã›ãšå€¤ã‚’å–å¾—ã§ãæ¥ã¾ã›ã‚“ã€‚ã‚³ãƒƒã‚¯ãƒ”ãƒƒãƒˆè¦–ç‚¹ã§ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã‹ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãªã©ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã§è¨­å®šã‚’ã™ã‚‹ã¨ãã®ã¿å€¤ã‚’å–å¾—ã§ãã‚‹ã®ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰æ“ä½œã™ã‚‹ã¨ãã«è¨­å®šã—ãŸçµæœã¯&lt;code&gt;Variables&lt;/code&gt;ã§èª­ã¿å–ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;
&lt;h4&gt;Variables&lt;/h4&gt;
&lt;p&gt;Variablesã¯å¤‰æ•°ã¨ã„ã†ã“ã¨ã§ã€ä»Šã®çŠ¶æ…‹ï¼ˆé£›è¡Œæ©Ÿã®çŠ¶æ…‹ã€ã‚«ãƒ¡ãƒ©ã®çŠ¶æ…‹ç­‰ï¼‰ã‚’å–å¾—ã§ãã€ä¸€éƒ¨ã¯å¤‰æ•°ã«å€¤ã‚’è¨­å®šã§ãã¾ã™ã€‚ã‚ªãƒ¼ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆã®çŠ¶æ…‹ã‚’å¤‰æ•°ã¨ã—ã¦å–å¾—ã™ã‚‹ã«ã¯&lt;code&gt;AUTOPILOT MASTER&lt;/code&gt;ã¨ã„ã†å¤‰æ•°ã‚’èª­ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Boolã§SettableãŒÃ—ã¨ã„ã†å¤‰æ•°ãªã®ã§èª­ã¿ã¨ã‚Šå°‚ç”¨ã§ã™ã€‚Boolã¨ã„ã„ãªãŒã‚‰ã€C#ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ãå ´åˆã«ã¯&lt;code&gt;0&lt;/code&gt;ã‹&lt;code&gt;1&lt;/code&gt;ã¨ã„ã†æ•°å€¤å‹ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚å‰è¿°ã®EVENTã§&lt;code&gt;AP_MASTER&lt;/code&gt;ã‚’&lt;code&gt;1&lt;/code&gt;ã«ã—ãŸå ´åˆã€è¨­å®šãŒã§ããŸã‹ã©ã†ã‹ã¯å¤‰æ•°ã®&lt;code&gt;AUTOPILOT MASTER&lt;/code&gt;ã§å–å¾—ã—ã¦ã¿ãªã„ã¨ã‚ã‹ã‚‰ãªã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;h2&gt;ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ãƒ¡ãƒ¢&lt;/h2&gt;
&lt;h3&gt;åˆæœŸè¨­å®š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€&lt;code&gt;Windows ãƒ•ã‚©ãƒ¼ãƒ  ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (.NET Framework)&lt;/code&gt;ã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚ä¼¼ãŸã‚ˆã†ãª&lt;code&gt;Windows ãƒ•ã‚©ãƒ¼ãƒ  ã‚¢ãƒ—ãƒª&lt;/code&gt;ãŒã‚ã‚Šã¾ã™ãŒé•ã„ã¾ã™ã€‚&lt;/li&gt;
&lt;li&gt;ãƒ•ã‚©ãƒ¼ãƒ ã„ã‚‰ãªã„ã‚ˆï¼ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã„ã„ã‚ˆï¼ã£ã¦ã„ã†å ´åˆã¯ã€æã‚‰ããƒ•ã‚©ãƒ¼ãƒ ã‚’éè¡¨ç¤ºã«ã™ã‚‹æ–¹æ³•ã‚’ã¨ã‚‹ã®ãŒæ¥½ã§ã™ã€‚å‰è¿°ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ã®å‡¦ç†ãŒå¿…è¦ãªã®ã§ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¢ãƒ—ãƒªã§ã¯è‹¦åŠ´ã—ã¾ã™ã€‚&lt;/li&gt;
&lt;li&gt;x64ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹ã€‚&lt;/li&gt;
&lt;li&gt;VSã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚ç…§ã«&lt;code&gt;Microsoft.FlightSimulator.SimConnect&lt;/code&gt;ã‚’è¿½åŠ ã™ã‚‹ã€‚SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ã® &lt;code&gt;SimConnect SDK\lib\managed&lt;/code&gt;ä»¥ä¸‹ã«ã‚ã‚‹ã¯ãšã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å¤§æ ã®æµã‚Œ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Form1.csã¨ã‹ã§&lt;code&gt;WndProc()&lt;/code&gt;ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WM_USER_SIMCONNECT&lt;/code&gt;(0x0402)ã‚’å—ä¿¡ã—ãŸã‚‰&lt;code&gt;SimConnect.ReceiveMessage()&lt;/code&gt;ã‚’å‘¼ã¶ã‚ˆã†ã«ã™ã‚‹ã€‚&lt;/li&gt;
&lt;li&gt;ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒãƒ³ãƒ‰ãƒ«ã‚’å–å¾—ã€‚&lt;/li&gt;
&lt;li&gt;SimConnectã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®è¿½åŠ ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;EVENT IDsã®ç™»éŒ²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MapClientEventToSimEvent()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AddClientEventToNotificationGroup()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;â†‘ã“ã®ã‚»ãƒƒãƒˆã‚’å¿…è¦ãªEVENTåˆ†ç¹°ã‚Šè¿”ã™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SetNotificationGroupPriority()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Variablesã®ç™»éŒ²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AddToDataDefinition()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;â†‘ã“ã®ã‚»ãƒƒãƒˆã‚’å¿…è¦ãªVariablesåˆ†ç¹°ã‚Šè¿”ã™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RegisterDataDefineStruct&amp;lt;&amp;gt;()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;EVENTã®å–å¾—ã¯&lt;code&gt;SimConnect.OnRecvEvent()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Variablesã®å–å¾—ã¯2ç¨®é¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RequestDataOnSimObjectType()&lt;/code&gt; â†’ å˜ç™º&lt;ol&gt;
&lt;li&gt;å–å¾—ã—ãŸã‚‰&lt;code&gt;SimConnect.OnRecvSimobjectDataByType()&lt;/code&gt;ãŒå‘¼ã°ã‚Œã‚‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RequestDataOnSimObject()&lt;/code&gt; â†’ æŒ‡å®šã—ãŸå‘¨æœŸ&lt;ol&gt;
&lt;li&gt;å–å¾—ã—ãŸã‚‰&lt;code&gt;SimConnect.OnRecvSimobjectData()&lt;/code&gt;ãŒå‘¼ã°ã‚Œã‚‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;EVENTã®è¨­å®šã¯&lt;code&gt;TransmitClientEvent()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Variablesã®è¨­å®šã¯&lt;code&gt;SetDataOnSimObject()&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;ã¨ã‚Šã‚ãˆãšã“ã“ã¾ã§&lt;/h1&gt;</content><category term="blog"></category></entry><entry><title>Upgrade VyoS 1.1.8 to 1.2.0</title><link href="https://tmya.github.io/upgrade-vyos-118-to-120.html" rel="alternate"></link><published>2019-12-03T00:00:00+09:00</published><updated>2019-12-03T00:00:00+09:00</updated><author><name>Akio Tomita</name></author><id>tag:tmya.github.io,2019-12-03:/upgrade-vyos-118-to-120.html</id><summary type="html">&lt;h3&gt;Memo&lt;/h3&gt;
&lt;p&gt;VyOS seemed to change release policy ago.
LTS(Long Term Support) Release is provides to subscriber.
Subscriber includes commercial customer and contributor.
If you are not subscribed, subscribe or get rolling release builds.&lt;/p&gt;
&lt;p&gt;Here is about upgrade v1.1.8 to v1.2.0(rolling release).&lt;/p&gt;
&lt;h2&gt;Open your console â€¦&lt;/h2&gt;</summary><content type="html">&lt;h3&gt;Memo&lt;/h3&gt;
&lt;p&gt;VyOS seemed to change release policy ago.
LTS(Long Term Support) Release is provides to subscriber.
Subscriber includes commercial customer and contributor.
If you are not subscribed, subscribe or get rolling release builds.&lt;/p&gt;
&lt;p&gt;Here is about upgrade v1.1.8 to v1.2.0(rolling release).&lt;/p&gt;
&lt;h2&gt;Open your console&lt;/h2&gt;
&lt;p&gt;Connect ssh or other way to VyOS.&lt;br&gt;
Check to running image.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ show system image

The system currently has the following image&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt; installed:

   &lt;span class="m"&gt;1&lt;/span&gt;: VyOS-1.1.8 &lt;span class="o"&gt;(&lt;/span&gt;default boot&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;running image&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="m"&gt;2&lt;/span&gt;: VyOS-1.1.7
   &lt;span class="m"&gt;3&lt;/span&gt;: VyOS-1.1.6
   &lt;span class="m"&gt;4&lt;/span&gt;: VyOS-1.1.5
   &lt;span class="m"&gt;5&lt;/span&gt;: Old-non-image-installation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Download and add image&lt;/h2&gt;
&lt;p&gt;Download latest rolling release build or choose what you like.&lt;br&gt;
&lt;a href="https://downloads.vyos.io/?dir=rolling/current/amd64"&gt;VyOS Downloads&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;!Notice! If you are reboot soon will boot new image but sometimes occur problem.&lt;br&gt;
At your own risk.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ add system image https://downloads.vyos.io/rolling/current/amd64/vyos-rolling-latest.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Perhaps you answer yes to the questions you are asked. me too. :p&lt;br&gt;
You can see added image when retype "show system image".&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ show system image

The system currently has the following image&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt; installed:

   &lt;span class="m"&gt;1&lt;/span&gt;: &lt;span class="m"&gt;1&lt;/span&gt;.2-rolling-201912030217- &lt;span class="o"&gt;(&lt;/span&gt;default boot&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="m"&gt;2&lt;/span&gt;: VyOS-1.1.8 &lt;span class="o"&gt;(&lt;/span&gt;running image&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="m"&gt;3&lt;/span&gt;: VyOS-1.1.7
   &lt;span class="m"&gt;4&lt;/span&gt;: VyOS-1.1.6
   &lt;span class="m"&gt;5&lt;/span&gt;: VyOS-1.1.5
   &lt;span class="m"&gt;6&lt;/span&gt;: Old-non-image-installation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Reboot to apply new image&lt;/h2&gt;
&lt;p&gt;Let's reboot.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ reboot
Proceed with reboot? &lt;span class="o"&gt;(&lt;/span&gt;Yes/No&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;No&lt;span class="o"&gt;]&lt;/span&gt; Yes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Let's pray.  &lt;/p&gt;
&lt;p&gt;Few minutes later reconnect to VyOS. Check the Version.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ show version
Version:          VyOS &lt;span class="m"&gt;1&lt;/span&gt;.2-rolling-201912030217
Built by:         autobuild@vyos.net
Built on:         Tue &lt;span class="m"&gt;03&lt;/span&gt; Dec &lt;span class="m"&gt;2019&lt;/span&gt; &lt;span class="m"&gt;02&lt;/span&gt;:17 UTC
~~
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That's done it.&lt;/p&gt;</content><category term="blog"></category></entry><entry><title>Setup to join Active Directory on CentOS 8</title><link href="https://tmya.github.io/setup-to-join-active-directory-on-centos-8.html" rel="alternate"></link><published>2019-10-23T00:00:00+09:00</published><updated>2019-10-23T00:00:00+09:00</updated><author><name>Akio Tomita</name></author><id>tag:tmya.github.io,2019-10-23:/setup-to-join-active-directory-on-centos-8.html</id><summary type="html">&lt;h3&gt;Complete install CentOS with server option (without GUI).&lt;/h3&gt;
&lt;p&gt;Setting DNS server IP address the same as Active Directory Server IP address.&lt;br&gt;
Do not edit config manually /etc/resolv.conf. If you forget to edit DNS IP address in install operation, Edit on web console later.&lt;/p&gt;
&lt;h3&gt;Open url https://YOURSERVER:9090 â€¦&lt;/h3&gt;</summary><content type="html">&lt;h3&gt;Complete install CentOS with server option (without GUI).&lt;/h3&gt;
&lt;p&gt;Setting DNS server IP address the same as Active Directory Server IP address.&lt;br&gt;
Do not edit config manually /etc/resolv.conf. If you forget to edit DNS IP address in install operation, Edit on web console later.&lt;/p&gt;
&lt;h3&gt;Open url https://YOURSERVER:9090/ when on your console type command below.&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now cockpit.socket
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Click "System" -&amp;gt; "Domain" and type Admin's(or Manager account) id/pass, domain.&lt;/h3&gt;
&lt;p&gt;Important: Do not use IP address for domain field. sssd does not resolve domain by IP address.&lt;/p&gt;
&lt;h3&gt;Edit /etc/sssd/sssd.conf (option. I prefer this settings.)&lt;/h3&gt;
&lt;p&gt;If you want to custom user's home directory and user name. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;domain/%YOURDOMAIN%&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;use_fully_qualified_names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; False
&lt;span class="nv"&gt;override_homedir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /home/%u
&lt;span class="nv"&gt;fallback_homedir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /home/%u
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="blog"></category></entry></feed>